<html>
    <head>
        <title>TSDWL Project</title>
    </head>
    <body>
        <h3>Lista Tasks</h3><br>
        <ul>
            <li th:each="task : ${project.tasks}">
                <h4>
                    <span th:text="${task.nome}"/>  
                    <form method="post" th:action="@{/tasks/deleteFromProject/{id}(id = ${task.id})}" >
                        <input type="hidden" name="projectId" th:value="${project.id}" />
                        <button type="submit">Delete Task</button>
                    </form>
                </h4>
            </li>
        </ul>
        <br>
        <h3>Modifica o Elimina Project</h3>
        <br>
        <form th:object="${project}" method="post" th:action="@{/projects/{id}(id = ${project.id})}" >
            <input type="hidden" th:field="*{id}" />
            <input type="hidden" th:field="*{tasks}" />
            <label>Nome</label>
            <input type="text" th:field="*{nome}" required /><br><br>
            <label>Tipologia</label>
            <input type="text" th:field="*{tipologia}" required /><br><br>
            <label>Creazione</label>
            <input type="number" th:field="*{creazione}" required /><br><br>
            <button type="submit">Modifica</button>
        </form>
        <br><br>
        <form method="post" th:action="@{/projects/delete/{id}(id = ${project.id})}" >
            <button type="submit">Delete Project</button>
        </form>

        <br><br><br>
        <a href="/">Home</a>
    </body>
</html>